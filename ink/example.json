{"inkVersion":17,"root":[{"->":"murder_scene"},"done",{"get":[{"temp=":"x"},"ev",{"VAR?":"Inventory"},{"VAR?":"x"},"+",{"temp=":"Inventory","re":true},"/ev",{"#f":3}],"move_to_supporter":[{"temp=":"new_supporter"},{"temp=":"item_state"},"ev",{"VAR?":"item_state"},{"VAR?":"Supporters"},"LIST_ALL","-",{"temp=":"item_state","re":true},"/ev","ev",{"VAR?":"item_state"},{"VAR?":"new_supporter"},"+",{"temp=":"item_state","re":true},"/ev",{"#f":3}],"learn":[{"temp=":"x"},"ev",{"VAR?":"knowledgeState"},{"VAR?":"x"},"+",{"temp=":"knowledgeState","re":true},"/ev",{"#f":3}],"learnt":[{"temp=":"x"},"ev",{"VAR?":"x"},{"f()":"highest_state_for_set_of_state"},{"VAR?":"x"},">=","/ev","~ret",{"#f":3}],"between":[{"temp=":"y"},{"temp=":"x"},"ev",{"VAR?":"x"},{"f()":"learnt"},{"VAR?":"y"},{"f()":"learnt"},"!","&&","/ev","~ret",{"#f":3}],"think":[{"temp=":"x"},"ev",{"VAR?":"x"},{"f()":"highest_state_for_set_of_state"},{"VAR?":"x"},"==","/ev","~ret",{"#f":3}],"highest_state_for_set_of_state":[{"temp=":"x"},"ev",{"VAR?":"knowledgeState"},{"VAR?":"x"},"LIST_ALL","L^","LIST_MAX","/ev","~ret",{"#f":3}],"did_learn":[{"temp=":"x"},"ev",{"VAR?":"knowledgeState"},{"VAR?":"x"},"?","/ev","~ret",{"#f":3}],"murder_scene":[["^The bedroom. This is where it happened. Now to look for clues.","\n",[["G>","ev",{"VAR?":"bedroomLightState"},{"VAR?":"seen"},"?","/ev",[{"->":".^.b","c":true},{"b":["thread",{"->":"murder_scene.seen_light"},{"->":".^.^.^.7"},null]}],"nop","G<",null],"\n","ev",{"^->":"murder_scene.0.top"},"/ev","thread",{"->":".^.^.^.compare_prints"},["ev","str","^The bed...","/str","/ev",{"*":".^.c","flg":20},{"c":["\n","\n","^The bed was low to the ground, but not so low something might not roll underneath. It was still neatly made.","\n","ev",{"VAR?":"neatly_made"},{"f()":"learn"},"pop","/ev","\n",[[["ev","str","^Lift the bedcover","/str","/ev",{"*":".^.c","flg":20},{"c":["\n","\n","^I lifted back the bedcover. The duvet underneath was crumpled.","\n","ev",{"VAR?":"crumpled_duvet"},{"f()":"learn"},"pop","/ev","\n","ev",{"VAR?":"covers_shifted"},"/ev",{"temp=":"BedState","re":true},{"->":".^.^.^.^.g-0"},{"#f":7}]}],["ev","str","^Remove the cover","/str",{"VAR?":"crumpled_duvet"},{"f()":"learnt"},"/ev",{"*":".^.c","flg":21},{"c":["\n","\n","^Careful not to disturb anything beneath, I removed the cover entirely. The duvet below was rumpled.","\n","^Not the work of the maid, who was conscientious to a point. Clearly this had been thrown on in a hurry.","\n","ev",{"VAR?":"hastily_remade"},{"f()":"learn"},"pop","/ev","\n","ev",{"VAR?":"covers_off"},"/ev",{"temp=":"BedState","re":true},{"->":".^.^.^.^.g-0"},{"#f":7}]}],["ev","str","^ Pull back the duvet ","/str",{"VAR?":"BedState"},{"VAR?":"covers_off"},"==","/ev",{"*":".^.c","flg":21},{"c":["\n","\n","^I pulled back the duvet. Beneath it was a sheet, sticky with blood.","\n","ev",{"VAR?":"stain_visible"},"/ev",{"temp=":"BedState","re":true},"ev",{"VAR?":"body_on_bed"},{"f()":"learn"},"pop","/ev","\n","^Either the body had been moved here before being dragged to the floor - or this is was where the murder had taken place.","\n",{"->":".^.^.^.^.g-0"},{"#f":7}]}],["ev","str","^ Remake the bed","/str",{"VAR?":"BedState"},{"VAR?":"made_up"},"?","!","/ev",{"*":".^.c","flg":21},{"c":["\n","\n","^Carefully, I pulled the bedsheets back into place, trying to make it seem undisturbed.","\n","ev",{"VAR?":"made_up"},"/ev",{"temp=":"BedState","re":true},{"->":".^.^.^.^.g-0"},{"#f":7}]}],["ev","str","^Test the bed","/str","/ev",{"*":".^.c","flg":20},{"c":["\n","\n","^I pushed the bed with spread fingers. It creaked a little, but not so much as to be obnoxious.","\n",{"->":".^.^.^.^.g-0"},{"#f":7}]}],["ev","str","^Look under the bed","/str","/ev",{"*":".^.c","flg":20},{"c":["\n","\n","^Lying down, I peered under the bed, but could make nothing out.","\n",{"->":".^.^.^.^.g-0"},{"#f":7}]}],["ev","str","^Something else?","/str",{"^->":"murder_scene.0.top.7.c"},"turns",1,">","/ev",{"*":".^.c","flg":21},{"c":["\n","\n","^I took a step back from the bed and looked around.","\n",{"->":".^.^.^.^.^.^.^"},{"->":".^.^.^.^.g-0"},{"#f":7}]}],{"#f":7,"#n":"bedhub"}],{"g-0":[{"->":".^.^.bedhub"},{"->":".^.^.^.^.^.^.g-0"},{"#f":7}]}],{"#f":7}]}],["ev","str","^ Look under the bed ","/str",{"CNT?":".^.^.7.c.10.bedhub.5.c"},{"VAR?":"bedroomLightState"},{"VAR?":"on_floor"},"?","&&",{"VAR?":"bedroomLightState"},{"VAR?":"on"},"?","&&","/ev",{"*":".^.c","flg":21},{"c":["\n","\n","^I peered under the bed. Something glinted back at me.","\n",[[["ev","str","^ Reach for it ","/str","/ev",{"*":".^.c","flg":20},{"c":["\n","\n","^I fished with one arm under the bed, but whatever it was, it had been kicked far enough back that I couldn't get my fingers on it.","\n",{"->":".^.^.^"},{"->":"murder_scene.0.g-0"},{"#f":7}]}],["ev","str","^Knock it with the cane","/str",{"VAR?":"Inventory"},{"VAR?":"cane"},"?","/ev",{"*":".^.c","flg":21},{"c":["\n","\n",{"->":".^.^.^.^.^.^.^.9.c"},{"->":"murder_scene.0.g-0"},{"#f":7}]}],["ev","str","^ Stand up ","/str",{"CNT?":".^.^"},1,">","/ev",{"*":".^.c","flg":21},{"c":["\n","\n","^I stood up once more, and brushed my coat down.","\n",{"->":".^.^.^.^.^.^.^"},{"->":"murder_scene.0.g-0"},{"#f":7}]}],{"#f":7,"#n":"reaching"}],null],{"#f":7}]}],["ev","str","^Use the cane to reach under the bed","/str",{"CNT?":".^.^.8.c.4.reaching"},{"^->":"murder_scene.0.top.8.c.4.reaching"},"turns",4,">=","&&",{"VAR?":"Inventory"},{"VAR?":"cane"},"?","&&","/ev",{"*":".^.c","flg":21},{"c":["\n","\n","^Positioning the cane above the carpet, I gave the glinting thing a sharp tap. It slid out from the under the foot of the bed.","\n","ev",{"^var":"knifeState","ci":-1},{"VAR?":"on_floor"},{"f()":"move_to_supporter"},"pop","/ev","\n",["ev","str","^Stand up","/str","/ev",{"*":".^.c","flg":20},{"c":["\n","\n","^Satisfied, I stood up, and saw I had knocked free a bloodied knife.","\n",{"->":".^.^.^.^.^"},{"->":".^.^.^.^.^.^.g-0"},{"#f":7}]}],["ev","str","^Look under the bed once more","/str","/ev",{"*":".^.c","flg":20},{"c":["\n","\n","^Moving the cane aside, I looked under the bed once more, but there was nothing more there.","\n",{"->":".^.^.^.11.c"},{"->":".^.^.^.^.^.^.g-0"},{"#f":7}]}],{"#f":7}]}],["ev","str","^Pick up the knife","/str",{"VAR?":"knifeState"},{"VAR?":"on_floor"},"?","/ev",{"*":".^.c","flg":21},{"c":["\n","\n","^Careful not to touch the handle, I lifted the blade from the carpet.","\n","ev",{"VAR?":"knife"},{"f()":"get"},"pop","/ev","\n",{"->":".^.^.^.^.g-0"},{"#f":7}]}],["ev","str","^Look at the knife","/str",{"VAR?":"Inventory"},{"VAR?":"knife"},"?","/ev",{"*":".^.c","flg":21},{"c":["\n","\n","^The blood was dry enough. Dry enough to show up partial prints on the hilt!","\n","ev",{"VAR?":"prints_on_knife"},{"f()":"learn"},"pop","/ev","\n",{"->":".^.^.^.^.g-0"},{"#f":7}]}],["ev","str","^   The desk... ","/str","/ev",{"*":".^.c","flg":20},{"c":["\n","\n","^I turned my attention to the desk. A lamp sat in one corner, a neat, empty in-tray in the other. There was nothing else out.","\n","^Leaning against the desk was a wooden cane.","\n","ev",{"VAR?":"bedroomLightState"},{"VAR?":"seen"},"+",{"temp=":"bedroomLightState","re":true},"/ev",[[["ev","str","^Pick up the cane","/str",{"VAR?":"Inventory"},{"VAR?":"cane"},"!?","/ev",{"*":".^.c","flg":21},{"c":["\n","\n","ev",{"VAR?":"cane"},{"f()":"get"},"pop","/ev","\n","^I picked up the wooden cane. It was heavy, and unmarked.","\n",{"->":".^.^.^.^.g-0"},{"#f":7}]}],["ev","str","^Turn on the lamp","/str",{"VAR?":"bedroomLightState"},{"VAR?":"on"},"!?","/ev",{"*":".^.c","flg":21},{"c":["\n","\n",{"->t->":"murder_scene.operate_lamp"},{"->":".^.^.^.^.g-0"},{"#f":7}]}],["ev","str","^Look at the in-tray ","/str","/ev",{"*":".^.c","flg":20},{"c":["\n","\n","^I regarded the in-tray, but there was nothing to be seen. Either the victim's papers were taken, or his line of work had seriously dried up. Or the in-tray was all for show.","\n",{"->":".^.^.^.^.g-0"},{"#f":7}]}],["ev","str","^Open a drawer","/str",{"CNT?":".^.c"},3,"<","/ev",{"*":".^.c","flg":5},{"c":["\n","\n","^I tried ",["G>",["ev","visit",2,"MIN","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"ev","du",2,"==","/ev",{"->":".^.s2","c":true},"nop",{"s0":["pop","^a drawer at random",{"->":".^.^.23"},null],"s1":["pop","^another drawer",{"->":".^.^.23"},null],"s2":["pop","^a third drawer",{"->":".^.^.23"},null],"#f":5}],"G<",null],"^. ",["G>",["ev","visit",2,"MIN","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"ev","du",2,"==","/ev",{"->":".^.s2","c":true},"nop",{"s0":["pop","^Locked",{"->":".^.^.23"},null],"s1":["pop","^Also locked",{"->":".^.^.23"},null],"s2":["pop","^Unsurprisingly, locked as well",{"->":".^.^.23"},null],"#f":5}],"G<",null],"^.","\n",{"->":".^.^.^.^.g-0"},{"#f":7}]}],["ev","str","^Something else?","/str",{"CNT?":".^.^"},2,">=","/ev",{"*":".^.c","flg":21},{"c":["\n","\n","^I took a step away from the desk once more.","\n",{"->":".^.^.^.^.^.^.^"},{"->":".^.^.^.^.g-0"},{"#f":7}]}],{"#f":7,"#n":"deskstate"}],{"g-0":[{"->":".^.^.deskstate"},{"->":".^.^.^.^.^.^.g-0"},{"#f":7}]}],{"#f":7}]}],["ev","str","^Swoosh the cane","/str",{"VAR?":"Inventory"},{"VAR?":"cane"},"?",{"^->":"murder_scene.0.top.12.c.12.deskstate"},"turns",2,"<=","&&","/ev",{"*":".^.c","flg":21},{"c":["\n","\n","^I was still holding the cane: I gave it an experimental swoosh. It was heavy indeed, though not heavy enough to be used as a bludgeon.","\n","^But it might have been useful in self-defence. Why hadn't the victim reached for it? Knocked it over?","\n",{"->":".^.^.^.^.g-0"},{"#f":7}]}],["ev","str","^The window...","/str","/ev",{"*":".^.c","flg":20},{"c":["\n","\n","^I went over to the window and peered out. A dismal view of the little brook that ran down beside the house.","\n",[["ev",{"^->":"murder_scene.0.top.14.c.4.window_opts"},"/ev","thread",{"->":"murder_scene.compare_prints"},["ev","str","^Look down at the brook","/str","/ev",{"*":".^.c","flg":20},{"c":["\n","\n",["G>","ev",{"VAR?":"GlassState"},{"VAR?":"steamed"},"?","/ev",[{"->":".^.b","c":true},{"b":["^Through the steamed glass I couldn't see the brook. ",{"->t->":"murder_scene.see_prints_on_glass"},{"->":".^.^.^.^.^.^"},"\n",{"->":".^.^.^.7"},null]}],"nop","G<",null],"\n","^I watched the little stream rush past for a while. The house probably had damp but otherwise, it told me nothing.","\n",{"->":".^.^.^.^.g-0"},{"#f":7}]}],["ev","str","^Look at the glass","/str","/ev",{"*":".^.c","flg":20},{"c":["\n","\n",["G>","ev",{"VAR?":"GlassState"},{"VAR?":"steamed"},"?","/ev",[{"->":".^.b","c":true},{"b":[{"->":".^.^.^.^.^.^.5.c"},{"->":".^.^.^.7"},null]}],"nop","G<",null],"\n","^The glass in the window was greasy. No one had cleaned it in a while, inside or out.","\n",{"->":".^.^.^.^.g-0"},{"#f":7}]}],["ev","str","^ Look at the steam ","/str",{"VAR?":"GlassState"},{"VAR?":"steamed"},"?",{"CNT?":"murder_scene.see_prints_on_glass"},"!","&&",{"CNT?":".^.^.5.c"},"&&",{"CNT?":".^.^.6.c"},"&&","/ev",{"*":".^.c","flg":21},{"c":["\n","\n","^A cold day outside. Natural my breath should steam. ",{"->t->":"murder_scene.see_prints_on_glass"},"\n",{"->":".^.^.^.^.g-0"},{"#f":7}]}],["ev","str","^ Breathe on the glass","/str",{"VAR?":"GlassState"},{"VAR?":"steam_gone"},"?","/ev",{"*":".^.c","flg":5},{"c":["\n","\n","^I breathed gently on the glass once more. ",["G>","ev",{"VAR?":"fingerprints_on_glass"},{"f()":"learnt"},"/ev",[{"->":".^.b","c":true},{"b":["^The fingerprints reappeared. ",{"->":".^.^.^.6"},null]}],"nop","G<",null],"\n","ev",{"VAR?":"steamed"},"/ev",{"temp=":"GlassState","re":true},{"->":".^.^.^.^.g-0"},{"#f":7}]}],["ev","str","^Something else?","/str","/ev",{"*":".^.c","flg":4},{"c":["\n","\n",["G>","ev",{"CNT?":".^.^.^.^"},2,"<",{"VAR?":"fingerprints_on_glass"},{"f()":"learnt"},"||",{"VAR?":"GlassState"},{"VAR?":"steamed"},"?","||","/ev",[{"->":".^.b","c":true},{"b":["^I looked away from the dreary glass.","\n",["G>","ev",{"VAR?":"GlassState"},{"VAR?":"steamed"},"?","/ev",[{"->":".^.b","c":true},{"b":["ev",{"VAR?":"steam_gone"},"/ev",{"temp=":"GlassState","re":true},"<>","^ The steam from my breath faded.","\n",{"->":".^.^.^.7"},null]}],"nop","G<",null],"\n",{"->":"murder_scene.0.top"},{"->":".^.^.^.14"},null]}],"nop","G<",null],"\n","^I leant back from the glass. My breath had steamed up the pane a little.","\n","ev",{"VAR?":"steamed"},"/ev",{"temp=":"GlassState","re":true},{"->":".^.^.^.^.g-0"},{"#f":7}]}],{"#f":7,"#n":"window_opts"}],{"g-0":[{"->":".^.^.window_opts"},{"->":".^.^.^.^.^.^.g-0"},{"#f":7}]}],{"#f":7}]}],["ev","str","^Leave the room","/str",{"CNT?":".^.^"},5,">=","/ev",{"*":".^.c","flg":21},{"c":["\n","\n","^I'd seen enough. I ",["G>","ev",{"VAR?":"bedroomLightState"},{"VAR?":"on"},"?","/ev",[{"->":".^.b","c":true},{"b":["^switched off the lamp, then",{"->":".^.^.^.7"},null]}],"nop","G<",null],"^ turned and left the room.","\n",{"->":"joe_in_hall"},{"->":".^.^.^.^.g-0"},{"#f":7}]}],{"#f":7,"#n":"top"}],{"g-0":[{"->":".^.^.top"},{"#f":7}]}],{"see_prints_on_glass":["ev",{"VAR?":"fingerprints_on_glass"},{"f()":"learn"},"pop","/ev","\n",["G>",["ev","visit",1,"MIN","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"nop",{"s0":["pop","^But I could see a few fingerprints, as though someone had leant their palm against it.",{"->":".^.^.17"},null],"s1":["pop","^The fingerprints were quite clear and well-formed.",{"->":".^.^.17"},null],"#f":5}],"G<",null],"^ They faded as I watched.","\n","ev",{"VAR?":"steam_gone"},"/ev",{"temp=":"GlassState","re":true},"ev","void","/ev","->->",{"#f":3}],"compare_prints":[{"temp=":"backto"},["ev","str","^Compare the prints on the knife and the window ","/str",{"VAR?":"fingerprints_on_glass"},{"f()":"learnt"},{"VAR?":"prints_on_knife"},{"f()":"learnt"},"&&",{"VAR?":"fingerprints_on_glass_match_knife"},{"f()":"learnt"},"!","&&","/ev",{"*":".^.c","flg":21},{"c":["\n","\n","^Holding the bloodied knife near the window, I breathed to bring out the prints once more, and compared them as best I could.","\n","^Hardly scientific, but they seemed very similar - very similiar indeed.","\n","ev",{"VAR?":"fingerprints_on_glass_match_knife"},{"f()":"learn"},"pop","/ev","\n",{"->":"backto","var":true},{"#f":7}]}],{"#f":3}],"operate_lamp":["^I flicked the light switch.","\n",["G>","ev",{"VAR?":"bedroomLightState"},{"VAR?":"on"},"?","/ev",[{"->":".^.b","c":true},{"b":["<>","^ The bulb fell dark.","\n","ev",{"VAR?":"bedroomLightState"},{"VAR?":"off"},"+",{"temp=":"bedroomLightState","re":true},"/ev","ev",{"VAR?":"bedroomLightState"},{"VAR?":"on"},"-",{"temp=":"bedroomLightState","re":true},"/ev",{"->":".^.^.^.8"},null]}],[{"->":".^.b"},{"b":[["G>","ev",{"VAR?":"bedroomLightState"},{"VAR?":"on_floor"},"?","/ev",[{"->":".^.b","c":true},{"b":["<>","^ A little light spilled under the bed.",{"->":".^.^.^.7"},null]}],"nop","G<",null],"^ ",["G>","ev",{"VAR?":"bedroomLightState"},{"VAR?":"on_desk"},"?","/ev",[{"->":".^.b","c":true},{"b":["<>","^ The light gleamed on the polished tabletop. ",{"->":".^.^.^.7"},null]}],"nop","G<",null],"^","\n","ev",{"VAR?":"bedroomLightState"},{"VAR?":"off"},"-",{"temp=":"bedroomLightState","re":true},"/ev","ev",{"VAR?":"bedroomLightState"},{"VAR?":"on"},"+",{"temp=":"bedroomLightState","re":true},"/ev",{"->":".^.^.^.8"},null]}],"nop","G<",null],"\n","ev","void","/ev","->->",{"#f":3}],"seen_light":[[["ev","str","^ Turn on lamp","/str",{"VAR?":"bedroomLightState"},{"VAR?":"on"},"?","!","/ev",{"*":".^.c","flg":21},{"c":["\n","\n",{"->t->":".^.^.^.^.^.operate_lamp"},{"->":".^.^.^.g-0"},{"#f":7}]}],["ev","str","^ Move the light to the bed ","/str",{"VAR?":"bedroomLightState"},{"VAR?":"on_bed"},"?","!",{"VAR?":"BedState"},{"VAR?":"stain_visible"},"?","&&","/ev",{"*":".^.c","flg":21},{"c":["\n","\n","ev",{"^var":"bedroomLightState","ci":-1},{"VAR?":"on_bed"},{"f()":"move_to_supporter"},"pop","/ev","\n","^I moved the light over to the bloodstain and peered closely at it. It had soaked deeply into the fibres of the cotton sheet.","\n","^There was no doubt about it. This was where the blow had been struck.","\n","ev",{"VAR?":"murdered_in_bed"},{"f()":"learn"},"pop","/ev","\n",{"->":".^.^.^.g-0"},{"#f":7}]}],["ev","str","^ Move the light back to the desk ","/str",{"VAR?":"bedroomLightState"},{"VAR?":"on_desk"},"?","!",{"^->":"murder_scene.seen_light.0.3.c"},"turns",2,">=","&&","/ev",{"*":".^.c","flg":21},{"c":["\n","\n","ev",{"^var":"bedroomLightState","ci":-1},{"VAR?":"on_desk"},{"f()":"move_to_supporter"},"pop","/ev","\n","^I moved the light back to the desk, setting it down where it had originally been.","\n",{"->":".^.^.^.g-0"},{"#f":7}]}],["ev","str","^Move the light to the floor ","/str",{"VAR?":"bedroomLightState"},{"VAR?":"on_floor"},"?","!",{"CNT?":".^.^.^.^.0.top.7.c.10.bedhub.5.c"},"&&","/ev",{"*":".^.c","flg":21},{"c":["\n","\n","ev",{"^var":"bedroomLightState","ci":-1},{"VAR?":"on_floor"},{"f()":"move_to_supporter"},"pop","/ev","\n","^I picked the light up and set it down on the floor.","\n",{"->":".^.^.^.g-0"},{"#f":7}]}],{"g-0":[{"->":".^.^.^.^.0.top"},{"#f":7}]}],{"#f":3}],"#f":3}],"joe_in_hall":[["^My police contact, Joe, was waiting in the hall. 'So?' he demanded. 'Did you find anything interesting?'","\n",[["ev",{"^->":"joe_in_hall.0.found.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str",{"CNT?":".^.^"},1,"==","/ev",{"*":".^.c","flg":19},{"s":["^'Nothing.'",{"->":"$r","var":true},null],"c":["ev",{"^->":"joe_in_hall.0.found.0.c.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.s"},[{"#n":"$r2"}],"\n","\n","^He shrugged. 'Shame.'","\n",{"->":".^.^.^.^.g-0.done"},{"->":".^.^.^.^.g-0"},{"#f":7}]}],["ev",{"^->":"joe_in_hall.0.found.1.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str",{"VAR?":"Inventory"},{"VAR?":"knife"},"?","/ev",{"*":".^.c","flg":19},{"s":["^'I found the murder weapon.'",{"->":"$r","var":true},null],"c":["ev",{"^->":"joe_in_hall.0.found.1.c.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.s"},[{"#n":"$r2"}],"\n","\n","^'Good going!' Joe replied with a grin. 'We thought the murderer had gotten rid of it. I'll bag that for you now.'","\n","ev",{"^var":"knifeState","ci":-1},{"VAR?":"with_joe"},{"f()":"move_to_supporter"},"pop","/ev","\n",{"->":".^.^.^.^.g-0"},{"#f":7}]}],["ev",{"^->":"joe_in_hall.0.found.2.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","str","^.'","/str",{"VAR?":"prints_on_knife"},{"f()":"learnt"},{"VAR?":"knifeState"},{"VAR?":"with_joe"},"?","&&","/ev",{"*":".^.c","flg":23},{"s":["^'There are prints on the blade",{"->":"$r","var":true},null],"c":["ev",{"^->":"joe_in_hall.0.found.2.c.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.s"},[{"#n":"$r2"}],"^,' I told him.","\n","\n","^He regarded them carefully.","\n","^'Hrm. Not very complete. It'll be hard to get a match from these.'","\n","ev",{"VAR?":"joe_seen_prints_on_knife"},{"f()":"learn"},"pop","/ev","\n",{"->":".^.^.^.^.g-0"},{"#f":7}]}],["ev",{"^->":"joe_in_hall.0.found.3.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str",{"VAR?":"fingerprints_on_glass_match_knife"},{"f()":"learnt"},{"VAR?":"joe_seen_prints_on_knife"},{"f()":"learnt"},"&&","/ev",{"*":".^.c","flg":19},{"s":["^'They match a set of prints on the window, too.'",{"->":"$r","var":true},null],"c":["ev",{"^->":"joe_in_hall.0.found.3.c.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.s"},[{"#n":"$r2"}],"\n","\n","^'Anyone could have touched the window,' Joe replied thoughtfully. 'But if they're more complete, they should help us get a decent match!'","\n","ev",{"VAR?":"joe_wants_better_prints"},{"f()":"learn"},"pop","/ev","\n",{"->":".^.^.^.^.g-0"},{"#f":7}]}],["ev",{"^->":"joe_in_hall.0.found.4.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","str","^.'","/str",{"VAR?":"body_on_bed"},{"VAR?":"murdered_in_bed"},{"f()":"between"},"/ev",{"*":".^.c","flg":23},{"s":["^'The body was moved to the bed at some point",{"->":"$r","var":true},null],"c":["ev",{"^->":"joe_in_hall.0.found.4.c.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.s"},[{"#n":"$r2"}],"^,' I told him. 'And then moved back to the floor.'","\n","\n","^'Why?'","\n",["ev",{"^->":"joe_in_hall.0.found.4.c.11.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.c","flg":18},{"s":["^'I don't know.'",{"->":"$r","var":true},null],"c":["ev",{"^->":"joe_in_hall.0.found.4.c.11.c.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.s"},[{"#n":"$r2"}],"\n","\n","^Joe nods. 'All right.'","\n",{"->":".^.^.^.^.^.^.g-0"},{"#f":7}]}],["ev",{"^->":"joe_in_hall.0.found.4.c.12.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.c","flg":18},{"s":["^'Perhaps to get something from the floor?'",{"->":"$r","var":true},null],"c":["ev",{"^->":"joe_in_hall.0.found.4.c.12.c.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.s"},[{"#n":"$r2"}],"\n","\n","^'You wouldn't move a whole body for that.'","\n",{"->":".^.^.^.^.^.^.g-0"},{"#f":7}]}],["ev",{"^->":"joe_in_hall.0.found.4.c.13.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.c","flg":18},{"s":["^'Perhaps he was killed in bed.'",{"->":"$r","var":true},null],"c":["ev",{"^->":"joe_in_hall.0.found.4.c.13.c.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.s"},[{"#n":"$r2"}],"\n","\n","^'It's just speculation at this point,' Joe remarks.","\n",{"->":".^.^.^.^.^.^.g-0"},{"#f":7}]}],{"#f":7}]}],["ev",{"^->":"joe_in_hall.0.found.5.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str",{"VAR?":"murdered_in_bed"},{"f()":"learnt"},"/ev",{"*":".^.c","flg":19},{"s":["^'The victim was murdered in bed, and then the body was moved to the floor.'",{"->":"$r","var":true},null],"c":["ev",{"^->":"joe_in_hall.0.found.5.c.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.s"},[{"#n":"$r2"}],"\n","\n","^'Why?'","\n",["ev",{"^->":"joe_in_hall.0.found.5.c.10.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.c","flg":18},{"s":["^'I don't know.'",{"->":"$r","var":true},null],"c":["ev",{"^->":"joe_in_hall.0.found.5.c.10.c.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.s"},[{"#n":"$r2"}],"\n","\n","^Joe nods. 'All right, then.'","\n",{"->":".^.^.^.^.^.^.g-0"},{"#f":7}]}],["ev",{"^->":"joe_in_hall.0.found.5.c.11.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.c","flg":18},{"s":["^'Perhaps the murderer wanted to mislead us.'",{"->":"$r","var":true},null],"c":["ev",{"^->":"joe_in_hall.0.found.5.c.11.c.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.s"},[{"#n":"$r2"}],"\n","\n","^'How so?'","\n",[["ev",{"^->":"joe_in_hall.0.found.5.c.11.c.10.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","str","^.'","/str","/ev",{"*":".^.c","flg":22},{"s":["^'They wanted us to think the victim was awake",{"->":"$r","var":true},null],"c":["ev",{"^->":"joe_in_hall.0.found.5.c.11.c.10.0.c.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.s"},[{"#n":"$r2"}],"^, I replied thoughtfully. 'That they were meeting their attacker, rather than being stabbed in their sleep.'","\n","\n",{"->":".^.^.^.g-0"},{"#f":7}]}],["ev",{"^->":"joe_in_hall.0.found.5.c.11.c.10.1.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","str","^.'","/str","/ev",{"*":".^.c","flg":22},{"s":["^'They wanted us to think there was some kind of struggle",{"->":"$r","var":true},null],"c":["ev",{"^->":"joe_in_hall.0.found.5.c.11.c.10.1.c.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.s"},[{"#n":"$r2"}],"^,' I replied. 'That the victim wasn't simply stabbed in their sleep.'","\n","\n",{"->":".^.^.^.g-0"},{"#f":7}]}],{"g-0":["^'But if they were killed in bed, that's most likely what happened. Stabbed, while sleeping.'","\n","ev",{"VAR?":"murdered_while_asleep"},{"f()":"learn"},"pop","/ev","\n",{"->":"joe_in_hall.0.g-0"},{"#f":7}]}],{"#f":7}]}],["ev",{"^->":"joe_in_hall.0.found.5.c.12.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.c","flg":18},{"s":["^'Perhaps the murderer hoped to clean up the scene.'",{"->":"$r","var":true},null],"c":["ev",{"^->":"joe_in_hall.0.found.5.c.12.c.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.s"},[{"#n":"$r2"}],"\n","\n","^'But they were disturbed? It's possible.'","\n",{"->":".^.^.^.^.^.^.g-0"},{"#f":7}]}],{"#f":7}]}],["ev",{"^->":"joe_in_hall.0.found.6.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str",{"CNT?":".^.^"},1,">","/ev",{"*":".^.c","flg":19},{"s":["^'That's it.'",{"->":"$r","var":true},null],"c":["ev",{"^->":"joe_in_hall.0.found.6.c.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.s"},[{"#n":"$r2"}],"\n","\n","^'All right. It's a start,' Joe replied.","\n",{"->":".^.^.^.^.g-0.done"},{"->":".^.^.^.^.g-0"},{"#f":7}]}],{"#f":7,"#n":"found"}],{"g-0":[{"->":".^.^.found"},[["G>",["ev",{"VAR?":"joe_wants_better_prints"},{"VAR?":"joe_got_better_prints"},{"f()":"between"},"/ev",{"->":".^.b","c":true},{"b":["ev",{"VAR?":"joe_got_better_prints"},{"f()":"learn"},"pop","/ev","\n","<>","^  He moved for the door.  'I'll get those prints from the window now.'","\n",{"->":".^.^.^.4"},null]}],["ev",{"VAR?":"joe_seen_prints_on_knife"},{"f()":"learnt"},"/ev",{"->":".^.b","c":true},{"b":["<>","^ 'I'll run those prints as best I can.'","\n",{"->":".^.^.^.4"},null]}],[{"->":".^.b"},{"b":["<>","^ 'Not much to go on.'","\n",{"->":".^.^.^.4"},null]}],"nop","G<",null],"\n","end",{"#f":7,"#n":"done"}],{"#f":7}]}],{"#f":3}],"global decl":["ev",{"list":{},"origins":["OffOn"]},{"VAR=":"OffOn"},{"list":{},"origins":["SeenUnseen"]},{"VAR=":"SeenUnseen"},{"list":{"GlassState.none":1}},{"VAR=":"GlassState"},{"list":{"BedState.made_up":1}},{"VAR=":"BedState"},{"list":{"Inventory.none":1}},{"VAR=":"Inventory"},{"list":{},"origins":["Supporters"]},{"VAR=":"Supporters"},{"list":{"BedKnowledge.none":1}},{"VAR=":"BedKnowledge"},{"list":{"KnifeKnowledge.none":1}},{"VAR=":"KnifeKnowledge"},{"list":{"WindowKnowledge.none":1}},{"VAR=":"WindowKnowledge"},{"list":{}},{"VAR=":"knowledgeState"},{"list":{"OffOn.off":1,"Supporters.on_desk":1}},{"VAR=":"bedroomLightState"},{"list":{"Supporters.under_bed":4}},{"VAR=":"knifeState"},"/ev","end",null],"#f":3}],"listDefs":{"OffOn":{"off":1,"on":2},"SeenUnseen":{"unseen":1,"seen":2},"GlassState":{"none":1,"steamed":2,"steam_gone":3},"BedState":{"made_up":1,"covers_shifted":2,"covers_off":3,"stain_visible":4},"Inventory":{"none":1,"cane":2,"knife":3},"Supporters":{"on_desk":1,"on_floor":2,"on_bed":3,"under_bed":4,"held":5,"with_joe":6},"BedKnowledge":{"none":1,"neatly_made":2,"crumpled_duvet":3,"hastily_remade":4,"body_on_bed":5,"murdered_in_bed":6,"murdered_while_asleep":7},"KnifeKnowledge":{"none":1,"prints_on_knife":2,"joe_seen_prints_on_knife":3,"joe_wants_better_prints":4,"joe_got_better_prints":5},"WindowKnowledge":{"none":1,"steam_on_glass":2,"fingerprints_on_glass":3,"fingerprints_on_glass_match_knife":4}}}